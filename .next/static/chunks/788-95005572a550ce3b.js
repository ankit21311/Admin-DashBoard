"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{5583:function(e,r,a){a.d(r,{Z:function(){return j}});var t=a(7437),n=a(2749),s=a(3046),i=a(5175),l=a(575),d=a(5119),o=a(6637),c=a(6840),u=a(1298),f=a(5817),m=a(9409),h=a(8004),x=a(4135),g=a(3088),p=a(5883),y=a(1396),v=a.n(y),b=a(4033),w=a(2169);let N=[{name:"Dashboard",href:"/dashboard",icon:d.Z},{name:"Articles",href:"/dashboard/articles",icon:o.Z},{name:"Analytics",href:"/dashboard/analytics",icon:c.Z},{name:"Payouts",href:"/dashboard/payouts",icon:u.Z},{name:"Reports",href:"/dashboard/reports",icon:f.Z},{name:"Settings",href:"/dashboard/settings",icon:m.Z}];function j(e){var r,a,d,o,c;let{children:u}=e,{data:f}=(0,n.useSession)(),m=(0,s.I0)(),{sidebarOpen:y,darkMode:j}=(0,s.v9)(e=>e.ui),k=(0,b.usePathname)();return(0,t.jsxs)("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[(0,t.jsxs)("div",{className:(0,w.cn)("fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-200 ease-in-out",y?"translate-x-0":"-translate-x-full","md:translate-x-0 md:static md:inset-0"),children:[(0,t.jsx)("div",{className:"flex items-center justify-center h-16 px-4 bg-primary",children:(0,t.jsx)("h1",{className:"text-xl font-bold text-primary-foreground",children:"Admin Dashboard"})}),(0,t.jsx)("nav",{className:"mt-5 px-2",children:(0,t.jsx)("div",{className:"space-y-1",children:N.map(e=>{let r=k===e.href;return(0,t.jsxs)(v(),{href:e.href,className:(0,w.cn)("group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors",r?"bg-primary text-primary-foreground":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"),children:[(0,t.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})})}),(0,t.jsx)("div",{className:"absolute bottom-0 w-full p-4 border-t border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-medium text-primary-foreground",children:null==f?void 0:null===(a=f.user)||void 0===a?void 0:null===(r=a.name)||void 0===r?void 0:r.charAt(0).toUpperCase()})})}),(0,t.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:null==f?void 0:null===(d=f.user)||void 0===d?void 0:d.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:(null===(o=null==f?void 0:f.user)||void 0===o?void 0:o.role)==="admin"?"Administrator":"User"})]})]})})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden md:ml-0",children:[(0,t.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(l.z,{variant:"ghost",size:"sm",onClick:()=>m((0,i.GB)()),className:"md:hidden",children:(0,t.jsx)(h.Z,{className:"h-5 w-5"})}),(0,t.jsx)("h2",{className:"ml-2 text-xl font-semibold text-gray-900 dark:text-white",children:(null===(c=N.find(e=>e.href===k))||void 0===c?void 0:c.name)||"Dashboard"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(l.z,{variant:"ghost",size:"sm",onClick:()=>m((0,i.In)()),children:j?(0,t.jsx)(x.Z,{className:"h-5 w-5"}):(0,t.jsx)(g.Z,{className:"h-5 w-5"})}),(0,t.jsx)(l.z,{variant:"ghost",size:"sm",onClick:()=>{(0,n.signOut)({callbackUrl:"/auth/signin"})},children:(0,t.jsx)(p.Z,{className:"h-5 w-5"})})]})]})})}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900",children:(0,t.jsx)("div",{className:"py-6",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u})})})]}),y&&(0,t.jsx)("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 md:hidden",onClick:()=>m((0,i.GB)())})]})}},575:function(e,r,a){a.d(r,{z:function(){return o}});var t=a(7437),n=a(2265),s=a(7256),i=a(6061),l=a(2169);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,r)=>{let{className:a,variant:n,size:i,asChild:o=!1,...c}=e,u=o?s.g7:"button";return(0,t.jsx)(u,{className:(0,l.cn)(d({variant:n,size:i,className:a})),ref:r,...c})});o.displayName="Button"},5671:function(e,r,a){a.d(r,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return c},ll:function(){return d}});var t=a(7437),n=a(2265),s=a(2169);let i=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});i.displayName="Card";let l=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...n})});l.displayName="CardHeader";let d=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});d.displayName="CardTitle";let o=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",a),...n})});o.displayName="CardDescription";let c=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",a),...n})});c.displayName="CardContent",n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",a),...n})}).displayName="CardFooter"},2169:function(e,r,a){a.d(r,{cn:function(){return s},p:function(){return i},x:function(){return l}});var t=a(7042),n=a(4769);function s(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,n.m6)((0,t.W)(r))}function i(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e))}function l(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}},8784:function(e,r,a){a.d(r,{K5:function(){return d},aL:function(){return s},rr:function(){return l},sW:function(){return c}});var t=a(9686);let n={articles:[],filteredArticles:[],filters:{author:"",dateRange:{start:"",end:""},type:"all",searchQuery:""},isLoading:!1,error:null,totalCount:0,payoutData:{}},s=(0,t.hg)("news/fetchNews",async(e,r)=>{let{rejectWithValue:a}=r;try{let e=await fetch("/api/news");if(!e.ok)throw Error("Failed to fetch news");return(await e.json()).articles||[]}catch(e){return a(e instanceof Error?e.message:"Unknown error")}}),i=(0,t.oM)({name:"news",initialState:n,reducers:{setFilters:(e,r)=>{e.filters={...e.filters,...r.payload};let a=e.articles;if(e.filters.author&&(a=a.filter(r=>r.author.toLowerCase().includes(e.filters.author.toLowerCase()))),"all"!==e.filters.type&&(a=a.filter(r=>r.type===e.filters.type)),e.filters.searchQuery){let r=e.filters.searchQuery.toLowerCase();a=a.filter(e=>{var a;return e.title.toLowerCase().includes(r)||(null===(a=e.description)||void 0===a?void 0:a.toLowerCase().includes(r))||e.author.toLowerCase().includes(r)})}e.filters.dateRange.start&&e.filters.dateRange.end&&(a=a.filter(r=>{let a=new Date(r.publishedAt),t=new Date(e.filters.dateRange.start),n=new Date(e.filters.dateRange.end);return a>=t&&a<=n})),e.filteredArticles=a},clearFilters:e=>{e.filters=n.filters,e.filteredArticles=e.articles},updatePayoutData:(e,r)=>{e.payoutData=r.payload,localStorage.setItem("payoutData",JSON.stringify(r.payload))},loadPayoutData:e=>{{let r=localStorage.getItem("payoutData");r&&(e.payoutData=JSON.parse(r))}}},extraReducers:e=>{e.addCase(s.pending,e=>{e.isLoading=!0,e.error=null}).addCase(s.fulfilled,(e,r)=>{e.isLoading=!1,e.articles=r.payload,e.filteredArticles=r.payload,e.totalCount=r.payload.length,e.error=null}).addCase(s.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setFilters:l,clearFilters:d,updatePayoutData:o,loadPayoutData:c}=i.actions;r.ZP=i.reducer},5175:function(e,r,a){a.d(r,{D7:function(){return o},GB:function(){return i},In:function(){return n}});let t=(0,a(9686).oM)({name:"ui",initialState:{darkMode:!1,sidebarOpen:!0,loading:{}},reducers:{toggleDarkMode:e=>{e.darkMode=!e.darkMode,localStorage.setItem("darkMode",JSON.stringify(e.darkMode))},setDarkMode:(e,r)=>{e.darkMode=r.payload,localStorage.setItem("darkMode",JSON.stringify(r.payload))},toggleSidebar:e=>{e.sidebarOpen=!e.sidebarOpen},setSidebarOpen:(e,r)=>{e.sidebarOpen=r.payload},setLoading:(e,r)=>{e.loading[r.payload.key]=r.payload.loading},initializeTheme:e=>{{let r=localStorage.getItem("darkMode");r?e.darkMode=JSON.parse(r):e.darkMode=window.matchMedia("(prefers-color-scheme: dark)").matches}}}}),{toggleDarkMode:n,setDarkMode:s,toggleSidebar:i,setSidebarOpen:l,setLoading:d,initializeTheme:o}=t.actions;r.ZP=t.reducer}}]);