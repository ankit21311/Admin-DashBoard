(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{3585:function(e,s,t){Promise.resolve().then(t.bind(t,7736))},7736:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var l=t(7437),r=t(2265),a=t(2749),i=t(4033),d=t(3046),n=t(8784),c=t(5583),x=t(5671),o=t(105),h=t(6704),u=t(6637),m=t(5750),j=t(1298),b=t(5790),g=t(2169);function f(){let{data:e,status:s}=(0,a.useSession)(),t=(0,i.useRouter)(),h=(0,d.I0)(),{articles:f,isLoading:p,totalCount:N,payoutData:w}=(0,d.v9)(e=>e.news);if((0,r.useEffect)(()=>{if("unauthenticated"===s){t.push("/auth/signin");return}"authenticated"===s&&(h((0,n.aL)()),h((0,n.sW)()))},[h,s,t]),"loading"===s||p)return(0,l.jsx)(c.Z,{children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,l.jsxs)(x.Zb,{className:"animate-pulse",children:[(0,l.jsxs)(x.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,l.jsx)("div",{className:"h-4 w-4 bg-gray-200 rounded"})]}),(0,l.jsxs)(x.aY,{children:[(0,l.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-2"}),(0,l.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},s))})});let y=f.filter(e=>"news"===e.type).length,v=f.filter(e=>"blog"===e.type).length,Z=Object.values(w).reduce((e,s)=>e+s.total,0),k=new Set(f.map(e=>e.author)).size,O={labels:Object.keys(w).slice(0,5),datasets:[{label:"Articles Count",data:Object.values(w).slice(0,5).map(e=>e.count),backgroundColor:"#3b82f6",borderColor:"#2563eb",borderWidth:1}]},C={responsive:!0,plugins:{legend:{position:"top"}}};return(0,l.jsx)(c.Z,{children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,l.jsxs)(x.Zb,{children:[(0,l.jsxs)(x.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(x.ll,{className:"text-sm font-medium",children:"Total Articles"}),(0,l.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(x.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:N}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground",children:[y," news, ",v," blog posts"]})]})]}),(0,l.jsxs)(x.Zb,{children:[(0,l.jsxs)(x.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(x.ll,{className:"text-sm font-medium",children:"Total Authors"}),(0,l.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(x.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:k}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active contributors"})]})]}),(0,l.jsxs)(x.Zb,{children:[(0,l.jsxs)(x.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(x.ll,{className:"text-sm font-medium",children:"Total Payouts"}),(0,l.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(x.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:(0,g.x)(Z)}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Calculated payouts"})]})]}),(0,l.jsxs)(x.Zb,{children:[(0,l.jsxs)(x.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(x.ll,{className:"text-sm font-medium",children:"Growth"}),(0,l.jsx)(b.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(x.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:"+12%"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"From last month"})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(x.Zb,{children:[(0,l.jsxs)(x.Ol,{children:[(0,l.jsx)(x.ll,{children:"Content Distribution"}),(0,l.jsx)(x.SZ,{children:"Distribution of news articles vs blog posts"})]}),(0,l.jsx)(x.aY,{children:(0,l.jsx)("div",{className:"h-[300px] flex items-center justify-center",children:(0,l.jsx)(o.$I,{data:{labels:["News","Blog"],datasets:[{data:[y,v],backgroundColor:["#3b82f6","#10b981"],borderColor:["#2563eb","#059669"],borderWidth:1}]},options:C})})})]}),(0,l.jsxs)(x.Zb,{children:[(0,l.jsxs)(x.Ol,{children:[(0,l.jsx)(x.ll,{children:"Top Authors"}),(0,l.jsx)(x.SZ,{children:"Top 5 authors by article count"})]}),(0,l.jsx)(x.aY,{children:(0,l.jsx)("div",{className:"h-[300px]",children:(0,l.jsx)(o.$Q,{data:O,options:C})})})]})]}),(0,l.jsxs)(x.Zb,{children:[(0,l.jsxs)(x.Ol,{children:[(0,l.jsx)(x.ll,{children:"Recent Articles"}),(0,l.jsx)(x.SZ,{children:"Latest articles and blog posts"})]}),(0,l.jsx)(x.aY,{children:(0,l.jsx)("div",{className:"space-y-4",children:f.slice(0,5).map(e=>(0,l.jsxs)("div",{className:"flex items-center space-x-4 p-4 rounded-lg bg-gray-50 dark:bg-gray-800",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.title}),(0,l.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["By ",e.author," â€¢ ",new Date(e.publishedAt).toLocaleDateString()]})]}),(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("news"===e.type?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"),children:e.type})})]},e.id))})})]})]})})}h.kL.register(h.uw,h.f$,h.ZL,h.Dx,h.u,h.De,h.qi)}},function(e){e.O(0,[674,749,271,743,139,713,788,971,938,744],function(){return e(e.s=3585)}),_N_E=e.O()}]);